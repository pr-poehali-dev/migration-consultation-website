# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è backend —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ email

## –ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```bash
node test-email-simple.js
```

## –°—Ç–∞—Ç—É—Å endpoint'–∞
‚úÖ **Endpoint –∞–∫—Ç–∏–≤–µ–Ω**: https://functions.poehali.dev/de88ac79-adac-4fb5-a2a7-30f8061abbd7
- GET –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 Bad Request (–æ–∂–∏–¥–∞–µ–º–æ –¥–ª—è POST endpoint)
- –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã

## –ê–Ω–∞–ª–∏–∑ backend —Ñ—É–Ω–∫—Ü–∏–∏

### –§–∞–π–ª: `/backend/send-email/index.py`

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ POST –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ SMTP –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ smtp.mail.ru
- ‚úÖ –ü–æ–ª—É—á–∞—Ç–µ–ª—å: 89126994560@mail.ru

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
```json
{
  "name": "–¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤",
  "phone": "+7 912 345 67 89",
  "messenger": "telegram", 
  "service": "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ –†–í–ü",
  "message": "–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
  "urgentConsultation": false
}
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### üü¢ –£—Å–ø–µ—à–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (200 OK)
```json
{
  "success": true,
  "message": "–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞"
}
```
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- HTTP —Å—Ç–∞—Ç—É—Å: 200
- CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- Email –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ 89126994560@mail.ru
- –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω—ã

### üü° –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (400 Bad Request)
```json
{
  "error": "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è"
}
```
**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (name, phone, service)

### üî¥ –û—à–∏–±–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (500 Internal Server Error)
```json
{
  "error": "Email configuration missing"
}
```
**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `SENDER_EMAIL`
- `SENDER_PASSWORD`

### üî¥ –û—à–∏–±–∫–∞ SMTP (500 Internal Server Error)
```json
{
  "error": "–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: [SMTP Error Details]"
}
```
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–≤–µ—Ä–Ω—ã–µ SMTP credentials
- –ü—Ä–æ–±–ª–µ–º—ã —Å smtp.mail.ru
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è

## –¢—Ä–µ–±—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

Backend —Ñ—É–Ω–∫—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```
SMTP_SERVER=smtp.mail.ru
SMTP_PORT=587
SENDER_EMAIL=your_email@mail.ru
SENDER_PASSWORD=your_app_password
```

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –°—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- ‚úÖ –§—É–Ω–∫—Ü–∏—è —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞
- ‚úÖ URL endpoint –¥–æ—Å—Ç—É–ø–µ–Ω  
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- ‚ùì –°—Ç–∞—Ç—É—Å SMTP credentials –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω
- ‚ùì –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å smtp.mail.ru –æ—Ç backend —Å–µ—Ä–≤–µ—Ä–∞
- ‚ùì –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Mail.ru App Password

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç –ª–æ–∫–∞–ª—å–Ω–æ:**
   ```bash
   node test-email-simple.js
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:**
   ```bash
   node email-test-diagnosis.js
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è backend —Ñ—É–Ω–∫—Ü–∏–∏**

4. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ SMTP –Ω–∞—Å—Ç—Ä–æ–µ–∫ Mail.ru**

## –§–∞–π–ª—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- `/test-email-simple.js` - –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ—Å—Ç
- `/email-test-diagnosis.js` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- `/run-email-test-direct.js` - –ü—Ä—è–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- `/simulate-email-test-result.js` - –°–∏–º—É–ª—è—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: ${new Date().toLocaleString('ru-RU')}*